# ë‹¤êµ­ì  ì‹œì¥ ì§„ì¶œ ì „ëµ ì—ì´ì „íŠ¸ (SKALA Market Analysis)

íšŒì‚¬Ã—êµ­ê°€ ë‹¨ìœ„ì˜ ì‹œì¥ ì§„ì¶œ ì „ëµì„ ìë™ìœ¼ë¡œ ë¶„ì„í•˜ê³  ë¦¬í¬íŠ¸ë¥¼ ìƒì„±í•˜ëŠ” AI ì—ì´ì „íŠ¸ íŒŒì´í”„ë¼ì¸ì…ë‹ˆë‹¤.

**í•µì‹¬ ê¸°ëŠ¥**:
- ì‹œì¥/ê·œì œ/ê²½ìŸ/GTM/íŒŒíŠ¸ë„ˆ/ë¦¬ìŠ¤í¬ ë¶„ì„ì„ ìë™í™”
- ê° ì¼€ì´ìŠ¤ë³„ ìƒì´í•œ ìˆ˜ì¹˜, ë¬¸êµ¬, ì§€ë„, í‘œ ìƒì„±
- Markdown, HTML, Word(DOCX) í˜•ì‹ì˜ ì „ëµ ë¦¬í¬íŠ¸ ì¶œë ¥
- Phaseë³„ ì‹¤í–‰ (ë¹ ë¥¸ Phase1 / ì „ì²´ Full íŒŒì´í”„ë¼ì¸)

---

## ğŸ“Š í”„ë¡œì íŠ¸ ìƒíƒœ ìš”ì•½ (ê¸°ì¡´ ê³„íš ëŒ€ë¹„)

### âœ… êµ¬í˜„ ì™„ë£Œ

**íŒŒì´í”„ë¼ì¸ & ì—ì´ì „íŠ¸**
- âœ… 15ê°œ ì—ì´ì „íŠ¸ ë…¸ë“œ êµ¬í˜„ (Input Validation â†’ Market Research â†’ ... â†’ Final Reporter)
- âœ… Phase1 / Full ëª¨ë“œ ì§€ì› (ë‹¨ê³„ë³„ ì‹¤í–‰ ê°€ëŠ¥)
- âœ… GTM ì„¸ê·¸ë¨¼íŠ¸ ë³‘ë ¬ ì²˜ë¦¬ (ThreadPool ê¸°ë°˜)
- âœ… ì¼€ì´ìŠ¤ë³„ ì¶œë ¥ í´ë” ìë™ ìƒì„±

**í•µì‹¬ ë¶„ì„ ê¸°ëŠ¥**
- âœ… ì‹œì¥ ì¡°ì‚¬: Why Now + 5ëŒ€ ì§€í‘œ (TAM, CAGR, ì´ì»¤ë¨¸ìŠ¤ ì¹¨íˆ¬ìœ¨, ì¸í”„ë¼ ì ìˆ˜, ë°°ì†¡ë¹„)
- âœ… ê·œì œ ë¶„ì„: MUST/SHOULD/NICE ë“±ê¸‰, PASS/WARN/TBD/FAIL ìƒíƒœ, Coverage ì ìˆ˜ ê³„ì‚°
- âœ… ê²½ìŸì‚¬ ë¶„ì„: CSV ë°ì´í„° ë¡œë“œ, ì¹´í…Œê³ ë¦¬ë³„ ìƒ‰ìƒ ë§ˆì»¤, íˆíŠ¸ë§µ/ì§€ë„ ìƒì„±, í™”ì´íŠ¸ìŠ¤í˜ì´ìŠ¤ ë°œêµ´
- âœ… GTM ì „ëµ: 3ê°œ ì„¸ê·¸ë¨¼íŠ¸(high/mid/low) ì¹´ë“œ ìƒì„±, íŒ¬ì¸(ìµœì  ì„¸ê·¸ë¨¼íŠ¸ ì„ íƒ)
- âœ… íŒŒíŠ¸ë„ˆ ë°œêµ´: í›„ë³´ 3ê°œ ì´ìƒ, ì—­í• /ìš°ì„ ìˆœìœ„, ì§€ë„ ì‹œê°í™”
- âœ… ë¦¬ìŠ¤í¬ ì‹œë‚˜ë¦¬ì˜¤: ê°€ëŠ¥ì„±Ã—ì˜í–¥ë„, ì™„í™”ì±…, ì¡°ê¸° ê²½ë³´ íŠ¸ë¦¬ê±°
- âœ… ì˜ì‚¬ê²°ì •: ìŠ¤ì½”ì–´ì¹´ë“œ(base â†’ ê°ì¢… adjustment â†’ final), RECOMMEND/HOLD íŒì •

**ë¦¬í¬íŠ¸ ìƒì„±**
- âœ… Markdown ì „ëµ ì¹´ë“œ (ì¼€ì´ìŠ¤ë³„)
- âœ… HTML ì „ëµ ì¹´ë“œ (Tailwind CSS ê¸°ë°˜ ì¸í„°ë™í‹°ë¸Œ)
- âœ… Word í†µí•© ë¦¬í¬íŠ¸ (ì „ì²´ ì¼€ì´ìŠ¤ í†µí•©, í‘œ/ì´ë¯¸ì§€/Evidence í¬í•¨)
- âœ… ìë™ ì¸ë±ìŠ¤ í…Œì´ë¸” (`outputs/README.md`)

**ì‹œê°í™”**
- âœ… í•œê¸€ í°íŠ¸ ìë™ ì„¤ì • (Noto Sans KR / Malgun Gothic / NanumGothic)
- âœ… matplotlib ì°¨íŠ¸ (ì‹œì¥ ì§€í‘œ, í†µê´€ í”Œë¡œìš°)
- âœ… geopandas ì§€ë„ (ê²½ìŸì‚¬ ë§ˆì»¤, íŒŒíŠ¸ë„ˆ ìœ„ì¹˜, íˆíŠ¸ë§µ)
- âœ… í™˜ê²½ë³€ìˆ˜ ê¸°ë°˜ ë§ˆì»¤ í¬ê¸° ì¡°ì •

**ê²€ì¦ & ë°ì´í„°**
- âœ… ë¦¬í¬íŠ¸ ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸ (`tools/validate_report.py`)
- âœ… ê²½ìŸì‚¬ CSV ë¡œë” (`data/rag_corpus/competition/*.csv`)
- âœ… ì¼€ì´ìŠ¤ë³„ ìƒì´í•œ ìˆ˜ì¹˜/ë¬¸êµ¬ ìƒì„± (í•´ì‹œ ê¸°ë°˜)

### ğŸš§ ë¶€ë¶„ êµ¬í˜„ (í…œí”Œë¦¿/ë”ë¯¸ ë°ì´í„° ì‚¬ìš©)

- ğŸš§ **ì‹œì¥ ë°ì´í„°**: í•´ì‹œ ê¸°ë°˜ ë”ë¯¸ ë°ì´í„° ìƒì„± (ì‹¤ì œ RAG ë¯¸ì—°ë™)
  - í˜„ì¬: ì¼€ì´ìŠ¤ë³„ ì°¨ë³„í™”ëœ ìˆ˜ì¹˜ ìë™ ìƒì„±
  - ë¶€ì¡±: ì‹¤ì œ PDF/JSON ì‹œì¥ ë¦¬ì„œì¹˜ ë°ì´í„° ë¡œë“œ ë¯¸êµ¬í˜„

- ğŸš§ **ê·œì œ ë°ì´í„°**: í…œí”Œë¦¿ ê¸°ë°˜ 5ê°œ í•­ëª© í•˜ë“œì½”ë”©
  - í˜„ì¬: MUST/SHOULD/NICE ë“±ê¸‰ ë° ìƒíƒœ ì¶”ì  ë¡œì§ ì™„ì„±
  - ë¶€ì¡±: êµ­ê°€ë³„ ê·œì œ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì™¸ë¶€ íŒŒì¼ ë¡œë“œ ë¯¸êµ¬í˜„

- ğŸš§ **Evidence ë¸”ë¡**: í”Œë ˆì´ìŠ¤í™€ë” URL + ë‚ ì§œ
  - í˜„ì¬: ê° ì„¹ì…˜ë³„ Evidence ë¸”ë¡ êµ¬ì¡° ìƒì„±
  - ë¶€ì¡±: ì‹¤ì œ ì¶œì²˜ URL ìˆ˜ì§‘ ë° ê²€ì¦ ë¯¸êµ¬í˜„

### ğŸ“‹ í–¥í›„ êµ¬í˜„ ì˜ˆì •

**Phase 2 (ë‹¨ê¸°)**
- [ ] RAG íŒŒì´í”„ë¼ì¸ ì—°ë™
  - PDF íŒŒì„œ (PyPDF2, pdfplumber)
  - ì‹œì¥ ë°ì´í„° ì˜¤ë²„ë¼ì´ë“œ (JSON íŒŒì¼ ê¸°ë°˜)
  - ê·œì œ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì™¸ë¶€ íŒŒì¼ ê´€ë¦¬
- [ ] Evidence ìë™ ìˆ˜ì§‘
  - ì‹¤ì œ ì¶œì²˜ URL í¬ë¡¤ë§/ê²€ìƒ‰
  - ë°œí–‰ì¼ ìë™ ì¶”ì¶œ
  - URL ìœ íš¨ì„± ê²€ì¦
- [ ] ì‹œê°í™” ê³ ë„í™”
  - ì§€ë„ í™•ëŒ€/ìƒ‰ìƒ íŒ”ë ˆíŠ¸ ì»¤ìŠ¤í„°ë§ˆì´ì§•
  - ì¸í„°ë™í‹°ë¸Œ ì°¨íŠ¸ (Plotly, D3.js)
- [ ] Word ë¦¬í¬íŠ¸ ê³ ê¸‰ ì„œì‹
  - ë¸Œëœë“œ í…Œë§ˆ ì ìš©
  - ê³ ê¸‰ í‘œ ìŠ¤íƒ€ì¼
  - ìë™ ëª©ì°¨ ìƒì„±

**Phase 3 (ì¤‘ì¥ê¸°)**
- [ ] ë²¡í„° DB ì—°ë™ (ChromaDB, FAISS)
  - PDF ì„ë² ë”© ë° ì‹œë§¨í‹± ê²€ìƒ‰
  - ì§ˆì˜ ê¸°ë°˜ Evidence ìë™ ì¶”ì¶œ
- [ ] ì›¹ í¬ë¡¤ëŸ¬ í†µí•©
  - ê²½ìŸì‚¬ ì›¹ì‚¬ì´íŠ¸ ìë™ ìˆ˜ì§‘
  - ì‹œì¥ í†µê³„ ìë™ ì—…ë°ì´íŠ¸
- [ ] ë‹¤êµ­ì–´ ì§€ì› (ì˜ì–´, ì¤‘êµ­ì–´)
- [ ] API ì„œë²„ êµ¬ì¶• (FastAPI)
- [ ] ëŒ€ì‹œë³´ë“œ UI (Streamlit / React)

---

## ëª©ì°¨

- [1) êµ¬í˜„ í˜„í™© (ìƒì„¸)](#1-êµ¬í˜„-í˜„í™©)
- [2) í´ë” êµ¬ì¡°](#2-í´ë”-êµ¬ì¡°)
- [3) ì‹¤í–‰](#3-ì‹¤í–‰)
- [4) ë³´ì•ˆ/ìš´ì˜ ê°€ì´ë“œ](#4-ë³´ì•ˆìš´ì˜-ê°€ì´ë“œ)
- [5) ë°ì´í„° í™•ì¥ ê°€ì´ë“œ](#5-ë°ì´í„°-í™•ì¥-ê°€ì´ë“œ)
- [6) ê¸°ì—¬ ê°€ì´ë“œ](#6-ê¸°ì—¬-ê°€ì´ë“œ)

---

## 1) êµ¬í˜„ í˜„í™©

### âœ… êµ¬í˜„ ì™„ë£Œ

**íŒŒì´í”„ë¼ì¸ êµ¬ì¡°**
- Phase1 ëª¨ë“œ: ì‹œì¥ ì¡°ì‚¬ â†’ ê·œì œ ê²€í†  â†’ ì˜ì‚¬ê²°ì • â†’ ë¦¬í¬íŠ¸ ìƒì„± (ë¹ ë¥¸ ë¶„ì„)
- Full ëª¨ë“œ: ê²½ìŸì‚¬ ë¶„ì„, GTM ì „ëµ, íŒŒíŠ¸ë„ˆ ë°œêµ´, ë¦¬ìŠ¤í¬ ì‹œë‚˜ë¦¬ì˜¤ í¬í•¨ (ì „ì²´ ë¶„ì„)
- ë³‘ë ¬ ì²˜ë¦¬: GTM high/mid/low ì„¸ê·¸ë¨¼íŠ¸ ë¶„ì„ì„ ThreadPoolë¡œ ë™ì‹œ ì‹¤í–‰

**ë…¸ë“œë³„ ê¸°ëŠ¥**
- **Market Research**: Why Now ë¶„ì„ + í•µì‹¬ ì§€í‘œ 5ê°œ (TAM, CAGR, ì´ì»¤ë¨¸ìŠ¤ ì¹¨íˆ¬ìœ¨, ì¸í”„ë¼ ì ìˆ˜, í‰ê·  ë°°ì†¡ë¹„)
  - ì°¨íŠ¸ ì´ë¯¸ì§€ ìƒì„±: `01_market_summary_*.png`
  - ì¼€ì´ìŠ¤ë³„ í•´ì‹œ ê¸°ë°˜ ì°¨ë³„í™”ëœ ë°ì´í„° ìƒì„±

- **Regulation Check**: ê·œì œ ì»´í”Œë¼ì´ì–¸ìŠ¤ ë¶„ì„
  - MUST/SHOULD/NICE ë“±ê¸‰ë³„ ì²´í¬ë¦¬ìŠ¤íŠ¸
  - PASS/WARN/TBD/FAIL ìƒíƒœ ì¶”ì 
  - Coverage ì ìˆ˜ ê³„ì‚° (ê°€ì¤‘í‰ê· )
  - í†µê´€ í”„ë¡œì„¸ìŠ¤ í”Œë¡œìš°ì°¨íŠ¸: `02_customs_flow_*.png`

- **Competitor Mapping**: ê²½ìŸì‚¬ ì§€ë„ ë° íˆíŠ¸ë§µ
  - CSV ë°ì´í„° ë¡œë“œ: `data/rag_corpus/competition/*.csv`
  - ì¹´í…Œê³ ë¦¬ë³„ ìƒ‰ìƒ ë§ˆì»¤ (3PL, Last Mile, Fulfillment ë“±)
  - íˆíŠ¸ë§µ ì´ë¯¸ì§€: `03_competition_heatmap_*.png`
  - í™”ì´íŠ¸ìŠ¤í˜ì´ìŠ¤ 3ê°œ ë°œêµ´ (ì¼€ì´ìŠ¤ë³„ ìƒì´)

- **GTM Strategy (Fan-out/Fan-in)**:
  - 3ê°œ ì„¸ê·¸ë¨¼íŠ¸ ì¹´ë“œ (high/mid/low) ë³‘ë ¬ ìƒì„±
  - ê° ì¹´ë“œ: ICP, Offer, Price, Channel, KPI í¬í•¨
  - ì„¸ê·¸ë¨¼íŠ¸ ìŠ¤ì½”ì–´ 3ê°œ ëª¨ë‘ ìƒì´í•˜ê²Œ ë³´ì¥
  - íŒ¬ì¸: ìµœì  ì„¸ê·¸ë¨¼íŠ¸ ì„ íƒ + ì‚¬ìœ  1ë¬¸ì¥

- **Partner Sourcing**: íŒŒíŠ¸ë„ˆ í›„ë³´ ë°œêµ´
  - 3ê°œ ì´ìƒ í›„ë³´ + ì—­í• /ìš°ì„ ìˆœìœ„
  - íŒŒíŠ¸ë„ˆ ì§€ë„: `04_partner_map_*.png`

- **Risk Scenarios**: ë¦¬ìŠ¤í¬ ë ˆì§€ìŠ¤í„°
  - ì¼€ì´ìŠ¤ë³„ 2ê°œ ì´ìƒ ë¦¬ìŠ¤í¬
  - ê°€ëŠ¥ì„±Ã—ì˜í–¥ë„ í‰ê°€
  - ì™„í™”ì±… ë° ì¡°ê¸° ê²½ë³´ íŠ¸ë¦¬ê±°

- **Decision Maker**: ì˜ì‚¬ê²°ì • ìŠ¤ì½”ì–´ì¹´ë“œ
  - base â†’ coverage_adj â†’ tbd_adj â†’ blocker_flag â†’ competition_adj â†’ partner_adj â†’ gtm_adj â†’ final
  - ê·œì œ ì»¤ë²„ë¦¬ì§€ ê¸°ë°˜ ê°€ê°ì  (+10/0/âˆ’20)
  - MUST ê·œì œ FAIL ì‹œ ìë™ HOLD

**ë¦¬í¬íŠ¸ ìƒì„±**
- Markdown ì „ëµ ì¹´ë“œ: `strategy_card_{Company}_{Country}.md`
- HTML ì „ëµ ì¹´ë“œ: `strategy_card_{Company}_{Country}.html`
- í†µí•© Word ë¦¬í¬íŠ¸: `Final_Report.docx` (ì „ì²´ ì¼€ì´ìŠ¤ í†µí•©)
- ê° ì„¹ì…˜ë³„ Evidence ë¸”ë¡ (URL + date)
- ì¼€ì´ìŠ¤ë³„ ì¶œë ¥ í´ë” êµ¬ì¡°í™”

**ì‹œê°í™”**
- í•œê¸€ í°íŠ¸ ìë™ ì„¤ì • (Noto Sans KR / Malgun Gothic / NanumGothic)
- matplotlib ì°¨íŠ¸ ìƒì„± (ì‹œì¥ ì§€í‘œ, í†µê´€ í”Œë¡œìš°)
- geopandas ì§€ë„ ìƒì„± (ê²½ìŸì‚¬ ë§ˆì»¤, íŒŒíŠ¸ë„ˆ ìœ„ì¹˜)
- í™˜ê²½ë³€ìˆ˜ ê¸°ë°˜ ë§ˆì»¤ í¬ê¸° ì¡°ì • (MARKER_SIZE_DEFAULT, MARKER_SIZE_KR)

**ê²€ì¦**
- `tools/validate_report.py`: ë¦¬í¬íŠ¸ ê·œê²© ê²€ì¦
  - ë°˜ë³µ coverage ì²´í¬
  - ë§µ/ì°¨íŠ¸ ê²½ë¡œ ëˆ„ë½ ê²€ì¶œ
  - ë™ì¼ ì ìˆ˜ 3ê°œ ê²€ì¶œ
  - MUST FAIL vs Decision ë¶ˆì¼ì¹˜ ê²€ì¶œ

**ë°ì´í„° ê´€ë¦¬**
- `data/companies.json`: 3ê°œ íšŒì‚¬ (ShipBob, Locus.sh, Ninja Van) Ã— êµ­ê°€ë³„ ë©”íƒ€ë°ì´í„°
- `data/rag_corpus/competition/`: ê²½ìŸì‚¬ CSV ë° ì—”í‹°í‹° ëª©ë¡
- `outputs/{Company}_{Country}/`: ì¼€ì´ìŠ¤ë³„ ì‚°ì¶œë¬¼ í´ë”
- `outputs/README.md`: ìë™ ìƒì„±ë˜ëŠ” ì¼€ì´ìŠ¤ ì¸ë±ìŠ¤ í…Œì´ë¸”

### ğŸš§ ë³´ì™„ ì˜ˆì •

- Evidence URLì˜ ì‹¤ì œ RAG/í¬ë¡¤ëŸ¬ ì—°ë™ (í˜„ì¬ëŠ” í”Œë ˆì´ìŠ¤í™€ë”)
- ì‹œì¥ ë°ì´í„° ì˜¤ë²„ë¼ì´ë“œ ê¸°ëŠ¥ (JSON ê¸°ë°˜ ì¼€ì´ìŠ¤ë³„ ì»¤ìŠ¤í„°ë§ˆì´ì§•)
- ì§€ë„ í™•ëŒ€/ìƒ‰ìƒ íŒ”ë ˆíŠ¸ ê³ ê¸‰ ì»¤ìŠ¤í„°ë§ˆì´ì§•
- Word ë¦¬í¬íŠ¸ ë¸Œëœë“œ í…Œë§ˆ ë° ê³ ê¸‰ ì„œì‹
- GTM ìŠ¤ì½”ì–´ë§ ê°€ì¤‘ì¹˜ ì™¸ë¶€ ì„¤ì • íŒŒì¼

---

## 2) í´ë” êµ¬ì¡°

```
SKALA_Market_Analysis/
â”œâ”€ src/                              # ì†ŒìŠ¤ ì½”ë“œ
â”‚  â”œâ”€ app.py                         # CLI ì—”íŠ¸ë¦¬ (phase1/full)
â”‚  â”œâ”€ state_schema.py                # Pydantic State ìŠ¤í‚¤ë§ˆ
â”‚  â”œâ”€ agents/                        # 15ê°œ ì—ì´ì „íŠ¸ ë…¸ë“œ
â”‚  â”‚  â”œâ”€ input_validation.py        # ì…ë ¥ ê²€ì¦
â”‚  â”‚  â”œâ”€ market_research.py         # ì‹œì¥ ì¡°ì‚¬
â”‚  â”‚  â”œâ”€ regulation_check.py        # ê·œì œ ë¶„ì„
â”‚  â”‚  â”œâ”€ competitor_mapping.py      # ê²½ìŸì‚¬ ë§µí•‘
â”‚  â”‚  â”œâ”€ gtm_high.py / gtm_mid.py / gtm_low.py  # GTM ì„¸ê·¸ë¨¼íŠ¸ (ë³‘ë ¬)
â”‚  â”‚  â”œâ”€ gtm_merge.py               # GTM íŒ¬ì¸
â”‚  â”‚  â”œâ”€ partner_sourcing.py        # íŒŒíŠ¸ë„ˆ ë°œêµ´
â”‚  â”‚  â”œâ”€ risk_scenarios.py          # ë¦¬ìŠ¤í¬ ì‹œë‚˜ë¦¬ì˜¤
â”‚  â”‚  â”œâ”€ decision_maker.py          # ì˜ì‚¬ê²°ì • ìŠ¤ì½”ì–´ë§
â”‚  â”‚  â”œâ”€ report_writer.py           # Markdown ë¦¬í¬íŠ¸
â”‚  â”‚  â”œâ”€ html_reporter.py           # HTML ë¦¬í¬íŠ¸
â”‚  â”‚  â””â”€ final_reporter.py          # Word í†µí•© ë¦¬í¬íŠ¸
â”‚  â”œâ”€ graph/
â”‚  â”‚  â””â”€ build_graph.py             # íŒŒì´í”„ë¼ì¸ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜
â”‚  â”œâ”€ viz/                           # ì‹œê°í™” ìœ í‹¸ë¦¬í‹°
â”‚  â”‚  â”œâ”€ charts.py                  # matplotlib ì°¨íŠ¸
â”‚  â”‚  â”œâ”€ maps.py                    # geopandas ì§€ë„
â”‚  â”‚  â”œâ”€ fonts.py                   # í•œê¸€ í°íŠ¸ ì„¤ì •
â”‚  â”‚  â””â”€ tables.py                  # í‘œ í¬ë§·íŒ…
â”‚  â”œâ”€ utils/                         # ìœ í‹¸ë¦¬í‹°
â”‚  â”‚  â”œâ”€ competitor_data.py         # ê²½ìŸì‚¬ CSV ë¡œë”
â”‚  â”‚  â”œâ”€ geocode.py                 # ì§€ì˜¤ì½”ë”©
â”‚  â”‚  â””â”€ output_index.py            # ì¶œë ¥ ì¸ë±ìŠ¤ ìƒì„±
â”‚  â””â”€ prompts/                       # (ì˜µì…˜) í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿
â”œâ”€ data/
â”‚  â”œâ”€ companies.json                 # ì…ë ¥: 3ê°œ íšŒì‚¬ Ã— êµ­ê°€ë³„ ë©”íƒ€ë°ì´í„°
â”‚  â”œâ”€ seeds/
â”‚  â”‚  â””â”€ companies.demo.json        # ë°ëª¨ ìƒ˜í”Œ ë°ì´í„°
â”‚  â””â”€ rag_corpus/                    # RAG ë°ì´í„° ì €ì¥ì†Œ
â”‚     â”œâ”€ competition/
â”‚     â”‚  â”œâ”€ sample_competitors.csv  # ê²½ìŸì‚¬ CSV (company, target_market, competitor, category, homepage)
â”‚     â”‚  â”œâ”€ KR_entities.txt         # í•œêµ­ ê²½ìŸì‚¬ ëª©ë¡
â”‚     â”‚  â””â”€ JP_entities.txt         # ì¼ë³¸ ê²½ìŸì‚¬ ëª©ë¡
â”‚     â”œâ”€ market/                     # (í–¥í›„) ì‹œì¥ ë°ì´í„° PDF/JSON
â”‚     â””â”€ regulation/                 # (í–¥í›„) ê·œì œ ë°ì´í„° PDF/JSON
â”œâ”€ outputs/                          # ìƒì„±ëœ ì‚°ì¶œë¬¼
â”‚  â”œâ”€ ShipBob_KR/                    # ì¼€ì´ìŠ¤ë³„ í´ë”
â”‚  â”œâ”€ ShipBob_JP/
â”‚  â”œâ”€ Locus.sh_US/
â”‚  â”œâ”€ Locus.sh_KR/
â”‚  â”œâ”€ Ninja Van_JP/
â”‚  â”œâ”€ Final_Report.docx              # í†µí•© Word ë¦¬í¬íŠ¸
â”‚  â””â”€ README.md                      # ìë™ ìƒì„± ì¸ë±ìŠ¤ í…Œì´ë¸”
â”œâ”€ logs/                             # ì‹¤í–‰ ë¡œê·¸
â”‚  â””â”€ node_dumps/                    # ë…¸ë“œë³„ ë””ë²„ê·¸ ë¤í”„
â”œâ”€ demo file/                        # ë…ë¦½ ì‹¤í–‰ ê°€ëŠ¥í•œ ë°ëª¨ ë¦¬í¬íŠ¸ ìƒì„±ê¸°
â”‚  â”œâ”€ report_templates.py           # HTML í…œí”Œë¦¿
â”‚  â”œâ”€ docx_report_generator.py      # DOCX ìƒì„±ê¸°
â”‚  â”œâ”€ report_agent.py               # LangGraph í†µí•© ì—ì´ì „íŠ¸
â”‚  â”œâ”€ report_guide.py               # í”„ë¡¬í”„íŠ¸ ê°€ì´ë“œ
â”‚  â””â”€ test_report_generation.py     # ë…ë¦½ í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€ tools/
â”‚  â””â”€ validate_report.py            # ë¦¬í¬íŠ¸ ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€ requirements.txt                  # Python ì˜ì¡´ì„±
â”œâ”€ .gitignore                        # Git ì œì™¸ ê·œì¹™
â””â”€ README.md                         # ì´ ë¬¸ì„œ
```

### ì¼€ì´ìŠ¤ í´ë” ì‚°ì¶œë¬¼ ì˜ˆì‹œ (`outputs/ShipBob_KR/`)

```
ShipBob_KR/
â”œâ”€ 01_market_summary_ShipBob_KR.png       # ì‹œì¥ ì§€í‘œ ì°¨íŠ¸
â”œâ”€ 02_customs_flow_ShipBob_KR.png         # í†µê´€ í”„ë¡œì„¸ìŠ¤ í”Œë¡œìš°
â”œâ”€ 03_competition_heatmap_ShipBob_KR.png  # ê²½ìŸ íˆíŠ¸ë§µ
â”œâ”€ 04_partner_map_ShipBob_KR.png          # íŒŒíŠ¸ë„ˆ ìœ„ì¹˜ ì§€ë„
â”œâ”€ strategy_card_ShipBob_KR.md            # Markdown ì „ëµ ì¹´ë“œ
â”œâ”€ strategy_card_ShipBob_KR.html          # HTML ì „ëµ ì¹´ë“œ
â”œâ”€ summary.json                           # ìš”ì•½ ë°ì´í„°
â””â”€ case_state.json                        # ì „ì²´ State ìŠ¤ëƒ…ìƒ·
```

---

## 3) ì‹¤í–‰

### ì‚¬ì „ ì¤€ë¹„

**1. ê°€ìƒí™˜ê²½ ìƒì„± ë° í™œì„±í™”**
```bash
python -m venv .venv

# Linux/Mac
source .venv/bin/activate

# Windows CMD
.venv\Scripts\activate.bat

# Windows PowerShell
.venv\Scripts\Activate.ps1
```

**2. ì˜ì¡´ì„± ì„¤ì¹˜**
```bash
pip install -r requirements.txt
```

**ì£¼ìš” ì˜ì¡´ì„±**:
- `pydantic>=2.7`: ë°ì´í„° ìŠ¤í‚¤ë§ˆ ê²€ì¦
- `python-dotenv>=1.0`: í™˜ê²½ë³€ìˆ˜ ê´€ë¦¬
- `pandas>=2.2`: ë°ì´í„° ì²˜ë¦¬
- `matplotlib>=3.8`: ì°¨íŠ¸ ìƒì„±
- `geopandas>=0.14`: ì§€ë„ ìƒì„±
- `python-docx>=1.1.0`: Word ë¦¬í¬íŠ¸
- `loguru>=0.7`: ë¡œê¹…
- `rich>=13.7`: CLI ì¶œë ¥

**3. í™˜ê²½ ë³€ìˆ˜ (ì„ íƒ)**

`.env` íŒŒì¼ ìƒì„± (í”„ë¡œì íŠ¸ ë£¨íŠ¸):
```bash
# Google Maps API (ì§€ë„ ìƒì„± ì‹œ ì„ íƒì ìœ¼ë¡œ ì‚¬ìš©)
GOOGLE_MAPS_API_KEY=your_api_key_here

# ì§€ë„ ë§ˆì»¤ í¬ê¸° ì¡°ì •
MARKER_SIZE_DEFAULT=28
MARKER_SIZE_KR=40
```

### íŒŒì´í”„ë¼ì¸ ì‹¤í–‰

**Phase1 ëª¨ë“œ (ë¹ ë¥¸ ë¶„ì„)**
```bash
python src/app.py --input data/companies.json --out outputs/ --phase phase1
```
- ì‹¤í–‰ ë…¸ë“œ: Market Research â†’ Regulation Check â†’ Decision Maker â†’ Report Writer â†’ HTML Reporter
- ì†Œìš” ì‹œê°„: ~2-5ë¶„ (3ê°œ íšŒì‚¬ Ã— êµ­ê°€)
- ì í•©: ë¹ ë¥¸ í”„ë¡œí† íƒ€ì´í•‘, ì´ˆê¸° ì˜ì‚¬ê²°ì •

**Full ëª¨ë“œ (ì „ì²´ ë¶„ì„)**
```bash
python src/app.py --input data/companies.json --out outputs/ --phase full
```
- ì‹¤í–‰ ë…¸ë“œ: ìœ„ + Competitor Mapping + GTM(high/mid/low ë³‘ë ¬) + GTM Merge + Partner Sourcing + Risk Scenarios
- ì†Œìš” ì‹œê°„: ~5-10ë¶„
- ì í•©: ìµœì¢… ë¦¬í¬íŠ¸, ìƒì„¸ ì „ëµ ìˆ˜ë¦½

### ì¶œë ¥ í™•ì¸

**ì¼€ì´ìŠ¤ë³„ ì‚°ì¶œë¬¼**
```bash
# Markdown ë¦¬í¬íŠ¸
cat outputs/ShipBob_KR/strategy_card_ShipBob_KR.md

# HTML ë¦¬í¬íŠ¸ (ë¸Œë¼ìš°ì €ì—ì„œ ì—´ê¸°)
open outputs/ShipBob_KR/strategy_card_ShipBob_KR.html

# ì´ë¯¸ì§€ íŒŒì¼
ls outputs/ShipBob_KR/*.png
```

**í†µí•© Word ë¦¬í¬íŠ¸**
```bash
# ì „ì²´ ì¼€ì´ìŠ¤ í†µí•© ë¦¬í¬íŠ¸
open outputs/Final_Report.docx
```

**ì¶œë ¥ ì¸ë±ìŠ¤ í…Œì´ë¸”**
```bash
cat outputs/README.md
```

### ê²€ì¦

**ë¦¬í¬íŠ¸ ê·œê²© ê²€ì¦**
```bash
python tools/validate_report.py

# ì¶œë ¥ ì˜ˆì‹œ (ì„±ê³µ):
# âœ… PASS: Report validation passed

# ì¶œë ¥ ì˜ˆì‹œ (ì‹¤íŒ¨):
# âŒ FAIL: Found 3 issues:
#   - Missing map image: ShipBob_KR/map_*.png
#   - Duplicate coverage scores detected
#   - MUST FAIL but Decision is RECOMMEND
```

### ë°ëª¨ ë¦¬í¬íŠ¸ ìƒì„± (ë…ë¦½ ì‹¤í–‰)

```bash
cd "demo file"
python test_report_generation.py
```
- ìƒ˜í”Œ ë°ì´í„°ë¡œ HTML + DOCX ë¦¬í¬íŠ¸ ì¦‰ì‹œ ìƒì„±
- ë©”ì¸ íŒŒì´í”„ë¼ì¸ê³¼ ë…ë¦½ì ìœ¼ë¡œ ì‹¤í–‰ ê°€ëŠ¥

---

## 4) ë³´ì•ˆ/ìš´ì˜ ê°€ì´ë“œ

### ë³´ì•ˆ ì£¼ì˜ì‚¬í•­

**ì ˆëŒ€ ì»¤ë°‹ ê¸ˆì§€**
- `.env` íŒŒì¼ (API í‚¤, ì¸ì¦ ì •ë³´ í¬í•¨)
- `*.env` íŒŒì¼ (ëª¨ë“  í™˜ê²½ë³€ìˆ˜ íŒŒì¼)
- ìœ ë£Œ ë¦¬í¬íŠ¸ PDF (ì €ì‘ê¶Œ ìœ„ë°˜)
- ë‚´ë¶€ ë²•ë¥  ìë¬¸ ë¬¸ì„œ
- ê³ ê°ì‚¬ ê³„ì•½ ì •ë³´

**ì´ë¯¸ .gitignoreì— ë°˜ì˜ë¨**
```
.env
.env.*
outputs/
logs/
*.pyc
__pycache__/
```

### ìš´ì˜ ê°€ì´ë“œ

**1. Word ë¦¬í¬íŠ¸ ì¶©ëŒ ë°©ì§€**
- `Final_Report.docx`ê°€ ì—´ë ¤ ìˆìœ¼ë©´ ì €ì¥ ì‹¤íŒ¨
- ìë™ìœ¼ë¡œ íƒ€ì„ìŠ¤íƒ¬í”„ íŒŒì¼ë¡œ ì €ì¥ (ì˜ˆ: `Final_Report_20241023_143000.docx`)
- ì‹¤í–‰ ì „ Word íŒŒì¼ ë‹«ê¸° ê¶Œì¥

**2. ëŒ€ìš©ëŸ‰ ì‚°ì¶œë¬¼ ê´€ë¦¬**
- `outputs/` í´ë”ëŠ” ìë™ìœ¼ë¡œ Gitì—ì„œ ì œì™¸
- ì£¼ê¸°ì ìœ¼ë¡œ ì˜¤ë˜ëœ ì¼€ì´ìŠ¤ í´ë” ì •ë¦¬:
  ```bash
  # 30ì¼ ì´ìƒ ëœ ì¼€ì´ìŠ¤ í´ë” ì‚­ì œ
  find outputs/ -type d -mtime +30 -exec rm -rf {} \;
  ```

**3. ë¡œê·¸ ê´€ë¦¬**
- `logs/` í´ë”ëŠ” ìë™ìœ¼ë¡œ Gitì—ì„œ ì œì™¸
- loguru ì„¤ì •ìœ¼ë¡œ ìë™ ë¡œí…Œì´ì…˜ (10MB ë‹¨ìœ„)
- ë””ë²„ê·¸ ì‹œ `logs/node_dumps/` í™•ì¸

**4. í°íŠ¸ ë¬¸ì œ í•´ê²°**
- í•œê¸€ í°íŠ¸ ìë™ ê°ì§€: Noto Sans KR â†’ Malgun Gothic â†’ NanumGothic
- í°íŠ¸ ì—†ì„ ì‹œ ê²½ê³  ë¡œê·¸ ì¶œë ¥ (í•œê¸€ ê¹¨ì§ ê°€ëŠ¥)
- Linux: `apt-get install fonts-noto-cjk` ê¶Œì¥

---

## 5) ë°ì´í„° í™•ì¥ ê°€ì´ë“œ

### íšŒì‚¬ ì¶”ê°€

`data/companies.json` í¸ì§‘:
```json
{
  "companies": [
    {
      "name": "NewCompany",
      "size": "Mid",
      "hq_country": "SG",
      "target_countries": ["TH", "VN"],
      "sector": "Logistics Tech",
      "notes": {
        "hypothesis": "ë™ë‚¨ì•„ 3PL ë””ì§€í„¸í™”",
        "icp_hint": "ì¤‘ì†Œ 3PL ì—…ì²´",
        "pricing_hint": "$1k-$5k/ì›”"
      }
    }
  ]
}
```

### ê²½ìŸì‚¬ ë°ì´í„° ì¶”ê°€

`data/rag_corpus/competition/sample_competitors.csv` í¸ì§‘:
```csv
company,target_market,competitor,category,homepage
NewCompany,TH,Kerry Express,Last Mile,https://kerryexpress.com
NewCompany,VN,Giao Hang Nhanh,3PL,https://ghn.vn
```

### ì‹œì¥ ë°ì´í„° ì»¤ìŠ¤í„°ë§ˆì´ì§• (í–¥í›„)

ì¼€ì´ìŠ¤ë³„ ì˜¤ë²„ë¼ì´ë“œ JSON ìƒì„± (í˜„ì¬ ë¯¸ì§€ì›, í–¥í›„ ì¶”ê°€ ì˜ˆì •):
```bash
# data/market_overrides/NewCompany_TH.json
{
  "TAM": "$5.2B",
  "CAGR": "18.5%",
  "why_now": "ì •ë¶€ ë””ì§€í„¸í™” ì •ì±… + ì´ì»¤ë¨¸ìŠ¤ ê¸‰ì„±ì¥"
}
```

### ì‹œê°í™” ì»¤ìŠ¤í„°ë§ˆì´ì§•

**ì§€ë„ ë§ˆì»¤ í¬ê¸° ì¡°ì •** (`.env`):
```bash
MARKER_SIZE_DEFAULT=28
MARKER_SIZE_KR=40
MARKER_SIZE_JP=35
```

**ì°¨íŠ¸ ìŠ¤íƒ€ì¼ ë³€ê²½** (`src/viz/charts.py`):
```python
# ìƒ‰ìƒ íŒ”ë ˆíŠ¸
COLORS = ['#667eea', '#764ba2', '#f093fb', '#4facfe']

# DPI ì„¤ì •
plt.savefig(path, dpi=150, bbox_inches='tight')
```

**ì§€ë„ ë°°ê²½ ë³€ê²½** (`src/viz/maps.py`):
```python
# ê¸°ë³¸ ì§€ë„ ìŠ¤íƒ€ì¼
world = gpd.read_file(gpd.datasets.get_path('naturalearth_lowres'))
ax = world.plot(color='lightgray', edgecolor='white')
```

### ë¦¬í¬íŠ¸ ì„œì‹ ì»¤ìŠ¤í„°ë§ˆì´ì§•

**Word ë¦¬í¬íŠ¸ ìŠ¤íƒ€ì¼** (`src/agents/final_reporter.py`):
```python
# ì œëª© í°íŠ¸
heading.font.name = 'Noto Sans KR'
heading.font.size = Pt(18)
heading.font.bold = True

# í‘œ ìŠ¤íƒ€ì¼
table.style = 'Light Grid Accent 1'
```

**HTML ë¦¬í¬íŠ¸ í…Œë§ˆ** (`demo file/report_templates.py`):
```css
/* ê·¸ë¼ë°ì´ì…˜ ë³€ê²½ */
.gradient-bg {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}
```

---

## 6) ê¸°ì—¬ ê°€ì´ë“œ

í”„ë¡œì íŠ¸ ê°œì„ ì— ê¸°ì—¬í•˜ê³  ì‹¶ìœ¼ì‹œë‹¤ë©´:

1. **ì´ìŠˆ ìƒì„±**: ë²„ê·¸ ë¦¬í¬íŠ¸ ë˜ëŠ” ê¸°ëŠ¥ ì œì•ˆ
2. **ë¸Œëœì¹˜ ìƒì„±**: `feature/your-feature-name`
3. **ì½”ë“œ ì‘ì„±**: PEP 8 ìŠ¤íƒ€ì¼ ê°€ì´ë“œ ì¤€ìˆ˜
4. **í…ŒìŠ¤íŠ¸ ì‹¤í–‰**: `python tools/validate_report.py`
5. **Pull Request**: ìƒì„¸í•œ ì„¤ëª…ê³¼ í•¨ê»˜ ì œì¶œ

**ì£¼ìš” ê°œì„  ì˜ì—­**:
- RAG íŒŒì´í”„ë¼ì¸ ì—°ë™ (PDF â†’ ë²¡í„° DB â†’ ê²€ìƒ‰)
- ì‹¤ì œ Evidence URL ìˆ˜ì§‘ ìë™í™”
- ì¶”ê°€ êµ­ê°€ ì§€ì› (ë™ë‚¨ì•„, ìœ ëŸ½ ë“±)
- ë‹¤êµ­ì–´ ë¦¬í¬íŠ¸ ìƒì„± (ì˜ì–´, ì¤‘êµ­ì–´)
- ì‹œê°í™” ê³ ë„í™” (ì¸í„°ë™í‹°ë¸Œ ì°¨íŠ¸, ëŒ€ì‹œë³´ë“œ)

